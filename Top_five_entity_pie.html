<!DOCTYPE html>
<html>
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.bundle.min.js"></script>
  <script
  src="https://code.jquery.com/jquery-3.3.1.slim.js"
  integrity="sha256-fNXJFIlca05BIO2Y5zh1xrShK3ME+/lYZ0j+ChxX2DA="
  crossorigin="anonymous"></script>
</head>
<body>
<canvas id="myChart" width="400" height="400"></canvas>
<script>

//This chart needs an array of values, an array of labels, and an optional array of backgroundColor

var sampleData = [
  {
    word: 'hello',
    count: 5
  },
  {
    word: 'goodbye',
    count: 10
  },
  {
    word: 'bonjour',
    count: 8
  },
  {
    word: 'au revoir',
    count: 12
  },
  {
    word: 'hola',
    count: 16
  }
];
sampleData.sort((a,b) => {
    if(a.count > b.count) {
      return 1;
    } else {
      return -1;
    }
});
console.log(sampleData);

var counts = sampleData.map(e => e.count);
var words = sampleData.map(e => e.word);
var bgColors = ['rgb(50,150,50)', 'rgb(40,170,40)', 'rgb(25,190,25)', 'rgb(10,200,10)', 'rgb(0,255,0)'];

function makeGraph(data,labels){
  var ctx = document.getElementById("myChart").getContext('2d');
  var myChart = new Chart(ctx, {
      type: 'pie',
      data: {
        datasets: [{
            data: data,
            backgroundColor: bgColors
        }],

      // These labels appear in the legend and in the tooltips when hovering different arcs
        labels: labels
      },

      options: {
        elements: {
          arc: {
            borderWidth: 0
          }
        }
      }
  });
  console.log(document.getElementById("myChart").getContext('2d'));
  var points = [
    { x: 50,
      y: 50 },
    { x: 100,
      y: 50 },
    { x: 150,
      y: 50},
    { x: 200,
      y: 50},
    { x: 250,
      y: 50}];
  var ctx = document.getElementById("myChart").getContext('2d');
  $.each (points, function (k, v)
        {
            ctx.beginPath();
            ctx.moveTo(v.x, v.y);
            ctx.lineWidth = 3;
            ctx.strokeStyle = '#ff0000';
            ctx.lineTo(0, v.y);
            ctx.stroke();
            console.log("*");
         });
}


window.addEventListener('load', makeGraph(counts, words, bgColors));
</script>
</body>
</html>
